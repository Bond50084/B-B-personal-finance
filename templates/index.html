<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Financial Simulation</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Custom styles for high contrast black and white theme */
      body {
        font-family: "Arial", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #000; /* Black background */
        color: #fff; /* White text */
        line-height: 1.6;
      }
      /* Top Bar Styling */
      .top-bar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 80px;
        background-color: #000; /* Changed to black */
        z-index: 1000;
        display: flex;
        align-items: center;
        padding: 0 20px;
        box-sizing: border-box;
        border: 1px solid #fff; /* Added white border */
        /* New shadow: X-offset, Y-offset, Blur-radius, Spread-radius, Color */
        /* This creates a soft, blurred shadow that emanates from the bar */
        box-shadow: 0 10px 40px 0px rgba(0, 0, 0, 0.7);
      }

      .top-bar .logo-small {
        height: 60px;
        width: auto;
        /* STYLEEE 1 Invert logo colors to white for black background */
      }

      .top-bar .firm-name {
        font-family: "Roboto", sans-serif;
        font-size: 1.8em;
        font-weight: 700;
        color: #fff; /* Changed text color to white for black background */
        margin-left: 15px;
        white-space: nowrap;
      }

      /* Hero Image Section */
      .hero-section {
        width: 100%;
        height: 100vh; /* Full viewport height */
        background-image: url("static/finance_background.png"); /* Placeholder image */
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        text-align: center;
        position: fixed; /* Changed from relative to fixed */
        top: 80px;
        left: 0;
        overflow: hidden; /* Ensures image doesn't overflow */
        z-index: -1; /* Ensures content scrolls over it */
      }
      /* Blurry edge effect for hero image */
      .hero-section::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        /* Create a radial gradient: transparent in the center, fading to black at the edges */
        background: radial-gradient(
          circle at center,
          transparent 60%,
          rgba(0, 0, 0, 0.8) 90%,
          rgba(0, 0, 0, 1) 100%
        );
        filter: blur(10px); /* Adjust blur strength as needed */
        pointer-events: none; /* Allows clicks to pass through to elements beneath */
        z-index: 1; /* Ensure it's above the image but below the text overlay */
      }

      .hero-overlay {
        position: absolute; /* Keep as absolute relative to its parent .hero-section */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 20px;
        z-index: 0; /* Ensure it's above the image, but below scrolling content */
      }

      .hero-title {
        font-family: "Inter", sans-serif;
        font-size: 4em;
        font-weight: 700;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        /* Add or change this line: */
        color: #fff; /* Ensure this is white */
      }

      .hero-subtitle {
        font-size: 1.5em;
        font-weight: 400;
        max-width: 800px;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
      }
      /* NEW: Scrolling Content Wrapper */
      .scrolling-content-wrapper {
        position: relative;
        z-index: 1;
        margin-top: calc(
          100vh + 80px
        ); /* Adjusted: (Hero height + New Top Bar height) */
        background-color: transparent; /* Changed to transparent to see background */
        width: 60%; /* Make it narrower */
        margin-left: auto; /* Center it */
        margin-right: auto; /* Center it */
        padding: 20px 0; /* Add some vertical padding */
      }

      /* Content Section */
      .content-section {
        padding: 40px 20px;
        max-width: 900px;
        margin: 0 auto;
        background-color: #ffffff; /* Changed to white background for content */
        border-radius: 8px;
        box-shadow: 0 0 0 rgba(0, 0, 0, 0); /* No shadow for high contrast */
        border: 1px solid #000; /* Changed border to black */
      }
      @keyframes fadeInUp {
        from {
          opacity: 0; /* Start completely transparent */
          transform: translateY(40px); /* Start 20px below its final position */
        }
        to {
          opacity: 1; /* End fully opaque */
          transform: translateY(0); /* End at its original position */
        }
      }

      /* Apply the animation to the explanation text */
      .explanation-text {
        text-align: center;
        margin: 20px auto 30px;
        background-color: #fff;
        border: 1px solid #000;
        padding: 15px;
        border-radius: 8px;
        font-size: 1.3em;
        line-height: 1.5;
        max-width: 700px;

        /* CORRECT BLACK TEXT */
        color: #000;

        /* Animation (if you still want it) */
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 3s ease-out 0.5s forwards;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 1px solid #333; /* Darker border */
      }

      .logo {
        max-width: 400px;
        height: auto;
        margin-bottom: 15px;
        /*filter: invert(100%);  Invert logo colors for black and white theme */
        display: block; /* Added to allow margin: auto to work */
        margin-left: auto; /* Centers the image */
        margin-right: auto; /* Centers the image */
      }

      h1,
      h2 {
        font-family: "Arial", sans-serif;
        color: #000; /* Changed headings to black */
        text-align: center;
        margin-bottom: 20px;
        font-size: 2.5em;
      }

      h2 {
        border-bottom: 2px solid #000; /* Changed underline to black */
        padding-bottom: 5px;
        margin-top: 30px;
        margin-bottom: 20px;
        font-size: 1.8em;
      }

      /* Form Styling */
      form {
        background-color: #f0f0f0; /* Changed to a soft white for the form */
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 0 0 rgba(0, 0, 0, 0); /* No shadow for high contrast */
        max-width: 900px;
        margin: 0 auto;
        border: 1px solid #000; /* Changed border to black for consistency */
      }

      .form-group {
        margin-bottom: 25px; /* Increased spacing between form groups */
        display: flex;
        align-items: center;
        flex-wrap: wrap;
      }

      label {
        display: inline-block;
        width: 250px;
        font-weight: 600;
        color: #000; /* Changed labels to black */
        flex-shrink: 0;
        margin-right: 15px;
      }

      input[type="text"],
      input[type="date"],
      select {
        flex-grow: 1;
        max-width: 250px;
        padding: 10px;
        border: 1px solid #000; /* Changed border to black */
        background-color: #ffffff; /* Changed background to white */
        color: #000; /* Changed text to black */
        border-radius: 5px;
        font-size: 1em;
        box-sizing: border-box;
      }

      .explanation {
        font-size: 0.85em;
        color: #000; /* Changed explanations to black */
        margin-left: 20px;
        flex-basis: 300px;
        min-width: 200px;
      }

      /* Button Styling */
      button {
        display: block;
        width: 200px;
        padding: 12px 25px;
        margin: 30px auto 0;
        background-color: #fff; /* White button */
        color: #000; /* Black text on button */
        border: 1px solid #fff; /* White border */
        border-radius: 5px;
        font-size: 1.1em;
        cursor: pointer;
        transition: background-color 0.3s ease, color 0.3s ease;
        font-weight: 600;
      }

      button:hover {
        background-color: #333; /* Dark grey on hover */
        color: #fff; /* White text on hover */
      }

      /* Error Message Styling */
      .error {
        color: #fff; /* White text for errors */
        background-color: #880000; /* Dark red background for errors */
        border: 1px solid #ff0000; /* Red border for errors */
        padding: 10px;
        border-radius: 5px;
        margin-bottom: 20px;
        text-align: center;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .hero-title {
          font-size: 2.5em;
        }
        .hero-subtitle {
          font-size: 1.2em;
        }
        .form-group {
          flex-direction: column;
          align-items: flex-start;
          margin-bottom: 20px; /* Adjust spacing for mobile */
        }

        label {
          width: 100%;
          margin-bottom: 5px;
        }

        input[type="text"],
        input[type="date"],
        select {
          max-width: 100%;
        }

        .explanation {
          margin-left: 0;
          margin-top: 5px;
        }
        .scrolling-content-wrapper {
          width: 90%; /* Adjust width for smaller screens */
        }
        .content-section .explanation-text {
          color: #000 !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="top-bar">
      <img
        src="static/logo.png"
        alt="B & B Capital Management Logo"
        class="logo-small"
      />
      <span class="firm-name"
        >B & B Capital Management - Personal Financial Simulator</span
      >
    </div>
    <div class="hero-section">
      <div class="hero-overlay">
        <h1 class="hero-title">Financial Freedom Awaits</h1>
        <p class="hero-subtitle">
          Plan your future with our comprehensive financial simulation tool.
          Understand your cash flow, investments, and expenses to achieve your
          goals.
        </p>
      </div>
    </div>

    <div class="scrolling-content-wrapper">
      <div class="content-section">
        <div class="header">
          <div class="explanation-text">
            <p><strong>Welcome to your financial simulator!</strong></p>
            <p>
              This calculator allows you to plan your future financial journey
              by simulating various scenarios. Input your income streams,
              expenses, and investment strategies to visualize your financial
              growth over time and ensure you meet your goals. For a detailled
              explanation of the simulation logic, see:
            </p>
            <a href="{{ url_for('documentation') }}">Documentation</a>
          </div>
          <h1>Financial Simulation Parameters</h1>
        </div>
        {% if error %}
        <p class="error">{{ error }}</p>
        {% endif %}

        <form action="/run" method="post">
          <h2>General Simulation Settings</h2>
          <div class="form-group">
            <label for="start_date">Start Date:</label>
            <input
              type="date"
              id="start_date"
              name="start_date"
              value="2025-01-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The beginning date for your financial simulation.</span
            >
          </div>
          <div class="form-group">
            <label for="end_date">End Date:</label>
            <input
              type="date"
              id="end_date"
              name="end_date"
              value="2060-12-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The end date for your financial simulation.</span
            >
          </div>
          <div class="form-group">
            <label for="initial_cash">Initial Cash (€):</label>
            <input
              type="text"
              id="initial_cash"
              name="initial_cash"
              value="400000"
              class="rounded-md"
            />
            <span class="explanation"
              >Your total cash at the start. It will be split between cash and
              portfolio.</span
            >
          </div>
          <div class="form-group">
            <label for="invest_frac">Investment Fraction (0.0-1.0):</label>
            <input
              type="text"
              id="invest_frac"
              name="invest_frac"
              value="0.8"
              class="rounded-md"
            />
            <span class="explanation"
              >The portion of initial cash to invest (e.g., 0.8 = 80%).</span
            >
          </div>
          <div class="form-group">
            <label for="threshold_cash">Cash Threshold (€):</label>
            <input
              type="text"
              id="threshold_cash"
              name="threshold_cash"
              value="100000"
              class="rounded-md"
            />
            <span class="explanation"
              >Minimum cash balance. Portfolio funds top-up if cash falls
              below.</span
            >
          </div>
          <div class="form-group">
            <label for="market_index">Select Market Index:</label>
            <select id="market_index" name="market_index" class="rounded-md">
              <option value="S&P 500" selected>S&P 500</option>
              <option value="Euro Stoxx 50">Euro Stoxx 50</option>
            </select>
            <span class="explanation"
              >Market index for portfolio simulations.</span
            >
          </div>
          <div class="form-group">
            <label for="inflation_rate"
              >Annual Inflation Rate (e.g., 0.02 for 2%):</label
            >
            <input
              type="text"
              id="inflation_rate"
              name="inflation_rate"
              value="0.021"
              class="rounded-md"
            />
            <span class="explanation"
              >The annual inflation rate to apply to income and expenses.</span
            >
          </div>

          <h2>Income Streams</h2>
          <div class="form-group">
            <label for="carmen_job_val"
              >First Person Job Income (€/month):</label
            >
            <input
              type="text"
              id="carmen_job_val"
              name="carmen_job_val"
              value="4000"
              class="rounded-md"
            />
            <span class="explanation"
              >First person's gross monthly income from their job.</span
            >
          </div>
          <div class="form-group">
            <label for="carmen_job_start">First Person Job Start Date:</label>
            <input
              type="date"
              id="carmen_job_start"
              name="carmen_job_start"
              value="2026-01-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The date first person's job income begins.</span
            >
          </div>
          <div class="form-group">
            <label for="carmen_job_end">First Person Job End Date:</label>
            <input
              type="date"
              id="carmen_job_end"
              name="carmen_job_end"
              value="2031-01-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The date first person's job income ends.</span
            >
          </div>

          <div class="form-group">
            <label for="carmen_rente_val"
              >First Person Pension Income (€/month):</label
            >
            <input
              type="text"
              id="carmen_rente_val"
              name="carmen_rente_val"
              value="3000"
              class="rounded-md"
            />
            <span class="explanation"
              >First person's gross monthly pension income.</span
            >
          </div>
          <div class="form-group">
            <label for="carmen_rente_start"
              >First Person Pension Start Date:</label
            >
            <input
              type="date"
              id="carmen_rente_start"
              name="carmen_rente_start"
              value="2032-01-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The date first person's pension income begins.</span
            >
          </div>

          <div class="form-group">
            <label for="felix_job_val"
              >Second Person Job Income (€/month):</label
            >
            <input
              type="text"
              id="felix_job_val"
              name="felix_job_val"
              value="4000"
              class="rounded-md"
            />
            <span class="explanation"
              >Second person's gross monthly income from their job.</span
            >
          </div>
          <div class="form-group">
            <label for="felix_job_start">Second Person Job Start Date:</label>
            <input
              type="date"
              id="felix_job_start"
              name="felix_job_start"
              value="2028-01-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The date second person's job income begins.</span
            >
          </div>
          <div class="form-group">
            <label for="felix_job_end">Second Person Job End Date:</label>
            <input
              type="date"
              id="felix_job_end"
              name="felix_job_end"
              value="2033-01-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The date second person's job income ends.</span
            >
          </div>

          <div class="form-group">
            <label for="felix_rente_val"
              >Second Person Pension Income (€/month):</label
            >
            <input
              type="text"
              id="felix_rente_val"
              name="felix_rente_val"
              value="3400"
              class="rounded-md"
            />
            <span class="explanation"
              >Second person's gross monthly pension income.</span
            >
          </div>
          <div class="form-group">
            <label for="felix_rente_start"
              >Second Person Pension Start Date:</label
            >
            <input
              type="date"
              id="felix_rente_start"
              name="felix_rente_start"
              value="2031-01-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The date second person's pension income begins.</span
            >
          </div>

          <h2>Large Payments/Withdrawals</h2>
          <div class="form-group">
            <label for="large_payment1_val"
              >Large Payment/Withdrawal 1 (€):</label
            >
            <input
              type="text"
              id="large_payment1_val"
              name="large_payment1_val"
              value="-1"
              class="rounded-md"
            />
            <span class="explanation"
              >A significant one-time income (+ve) or expense (-ve).</span
            >
          </div>
          <div class="form-group">
            <label for="large_payment1_date">Date of Payment 1:</label>
            <input
              type="date"
              id="large_payment1_date"
              name="large_payment1_date"
              value="2027-01-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The date this large payment/withdrawal occurs.</span
            >
          </div>

          <div class="form-group">
            <label for="large_payment2_val"
              >Large Payment/Withdrawal 2 (€):</label
            >
            <input
              type="text"
              id="large_payment2_val"
              name="large_payment2_val"
              value="1"
              class="rounded-md"
            />
            <span class="explanation"
              >Another significant one-time income (+ve) or expense (-ve).</span
            >
          </div>
          <div class="form-group">
            <label for="large_payment2_date">Date of Payment 2:</label>
            <input
              type="date"
              id="large_payment2_date"
              name="large_payment2_date"
              value="2033-01-31"
              class="rounded-md"
            />
            <span class="explanation"
              >The date this second large payment/withdrawal occurs.</span
            >
          </div>

          <h2>Other Expenses</h2>
          <div class="form-group">
            <label for="other_monthly_expenses"
              >Other Monthly Expenses (€/month):</label
            >
            <input
              type="text"
              id="other_monthly_expenses"
              name="other_monthly_expenses"
              value="0"
              class="rounded-md"
            />
            <span class="explanation"
              >Any additional monthly expenses not fixed (e.g., variable
              leisure).</span
            >
          </div>

          <button type="submit" class="rounded-md">Run Simulation</button>
        </form>
      </div>
    </div>
  </body>
</html>
